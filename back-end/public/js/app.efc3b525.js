(function(t){function e(e){for(var a,o,i=e[0],c=e[1],l=e[2],p=0,m=[];p<i.length;p++)o=i[p],n[o]&&m.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(m.length)m.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],a=!0,i=1;i<r.length;i++){var c=r[i];0!==n[c]&&(a=!1)}a&&(s.splice(e--,1),t=o(o.s=r[0]))}return t}var a={},n={app:0},s=[];function o(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=a,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(r,a,function(e){return t[e]}.bind(null,a));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var a=r("64a9"),n=r.n(a);n.a},"0e55":function(t,e,r){},"208f":function(t,e,r){"use strict";var a=r("506e"),n=r.n(a);n.a},"22d7":function(t,e,r){"use strict";var a=r("0e55"),n=r.n(a);n.a},"25d6":function(t,e,r){"use strict";var a=r("71a4"),n=r.n(a);n.a},2804:function(t,e,r){},"506e":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("097d");var a=r("a026"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("navbar"),r("notifier"),r("router-view")],1)},s=[],o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",{staticClass:"navbar navbar-default"},[r("div",{staticClass:"container-fluid"},[r("div",{staticClass:"navbar-header"},[r("router-link",{staticClass:"navbar-brand",attrs:{"active-class":"active",to:"/home"}},[r("span",{staticClass:"glyphicon glyphicon-home",attrs:{"aria-hidden":"true"}}),t._v("\n         My Hobbies\n      ")])],1),r("ul",{staticClass:"nav navbar-nav"},[r("router-link",{attrs:{tag:"li","active-class":"active",to:"/people"}},[r("a",[r("span",{staticClass:"glyphicon glyphicon-globe",attrs:{"aria-hidden":"true"}}),t._v("\n           People\n        ")])])],1),t.isLoggedIn?t._m(0):t._e(),r("p",{staticClass:"navbar-text"},[r("b",{staticClass:"status"},[t._v(t._s(t.status))])]),t.isLoggedIn?t._e():r("ul",{staticClass:"nav navbar-nav navbar-right"},[r("router-link",{attrs:{tag:"li","active-class":"active",to:"/login"}},[r("a",[r("span",{staticClass:"glyphicon glyphicon-log-in",attrs:{"aria-hidden":"true"}}),t._v("\n           Log in\n        ")])]),r("router-link",{attrs:{tag:"li","active-class":"active",to:"/register"}},[r("a",[r("span",{staticClass:"glyphicon glyphicon-user",attrs:{"aria-hidden":"true"}}),t._v("\n           Sign up\n        ")])])],1),t.isLoggedIn?r("ul",{staticClass:"nav navbar-nav navbar-right"},[r("li",[r("a",[r("span",{staticClass:"glyphicon glyphicon-user",attrs:{"aria-hidden":"true"}}),t._v("\n          Logged in as "),r("b",{staticClass:"status"},[t._v(t._s(t.currentUser.name))])])]),r("li",[r("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[r("span",{staticClass:"glyphicon glyphicon-log-out",attrs:{"aria-hidden":"true"}}),t._v("\n           Log out\n        ")])])]):t._e()],1)])},i=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("dropdown-menu",{attrs:{header:"Personal",icon:"glyphicon-sunglasses",content:t.personal}})}],c=r("be94"),l=r("2f62"),u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"nav navbar-nav"},[r("li",{class:{active:t.isGroupActive}},[r("a",{ref:"invoker",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.isVisible=!t.isVisible}}},[r("span",{staticClass:"glyphicon",class:[t.icon],attrs:{"aria-hidden":"true"}}),t._v("\n      "+t._s(t.header)+" \n      "),r("span",{staticClass:"caret"})]),r("ul",{class:[t.isVisible?"dropdown-menu":"drop-hide"]},t._l(t.content,function(e){return r("router-link",{key:e.title,attrs:{tag:"li","active-class":"active",to:e.path}},[r("a",[r("span",{staticClass:"glyphicon",class:[e.icon],attrs:{"aria-hidden":"true"}}),t._v("\n           "+t._s(e.title)+"\n        ")])])}))])])},p=[],m={methods:{hide:function(t){var e=t.target,r=this.$refs.invoker;r===e||r.contains(e)||(this.isVisible=!1)}},mounted:function(){document.body.addEventListener("click",this.hide)},beforeDestroy:function(){document.body.removeEventListener("click",this.hide)},props:["content","header","icon"],computed:{isGroupActive:function(){var t=this;return this.$props.content.reduce(function(e,r){var a=r.path;return e||-1!==t.$route.path.indexOf(a)},!1)}},data:function(){return{isVisible:!1}}},d=m,v=(r("9953"),r("2877")),f=Object(v["a"])(d,u,p,!1,null,"3be1bf74",null);f.options.__file="DropdownMenu.vue";var h=f.exports,g={components:{DropdownMenu:h},data:function(){return{personal:[{title:"My books",path:"/books",icon:"glyphicon-book"},{title:"My movies",path:"/movies",icon:"glyphicon-film"},{title:"My settings",path:"/profile",icon:"glyphicon-cog"}]}},computed:Object(c["a"])({},Object(l["c"])("auth",["isLoggedIn","currentUser"]),Object(l["c"])("notification",["status"])),methods:Object(c["a"])({},Object(l["d"])("notification",["notify"]),Object(l["d"])("items",["clear"]),{logout:function(){this.$store.dispatch("auth/logout"),this.clear("books"),this.clear("movies"),this.notify({msg:"You have been logged out.",type:"info"}),this.$router.push("/home")}})},b=g,y=(r("5858"),Object(v["a"])(b,o,i,!1,null,"262ff12d",null));y.options.__file="Navbar.vue";var _=y.exports,w=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.message?r("div",{staticClass:"alert",class:[t.alertClass]},[r("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.remove}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v("\n    "+t._s(t.message)+"\n")]):t._e()},C=[],k={computed:Object(c["a"])({},Object(l["c"])("notification",["message","alertClass"])),methods:Object(c["a"])({},Object(l["d"])("notification",["remove"]))},$=k,x=Object(v["a"])($,w,C,!1,null,null,null);x.options.__file="Notifier.vue";var O=x.exports,j={components:{Navbar:_,Notifier:O}},S=j,P=(r("034f"),Object(v["a"])(S,n,s,!1,null,null,null));P.options.__file="App.vue";var R=P.exports,M=r("8c4f"),I=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},E=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"panel panel-default"},[r("div",{staticClass:"panel-body"},[r("p",[r("b",[t._v("MY HOBBIES")]),t._v("\n        is an\n        "),r("a",{attrs:{href:"https://github.com/iurii-kyrylenko/hobbies",target:"_blank"}},[t._v("open-source project")]),t._v("\n        for keeping track of books you have read/listened and movies you have watched.\n    ")]),r("p",[t._v("\n        After logging in you are able to:\n    ")]),r("ul",[r("li",[t._v("Add an item (book or movie) to the list.")]),r("li",[t._v("Modify an existing item.")]),r("li",[t._v("Remove an item.")]),r("li",[t._v("Perform search for specific item(s).")]),r("li",[t._v("Download items as a file in JSON format.")]),r("li",[t._v("Upload items from JSON file.")])]),r("p",[t._v("\n        Also you have the possibilities to:\n    ")]),r("ul",[r("li",[t._v("Share data with other people.")]),r("li",[t._v("Change you personal settings.")])]),r("p",[t._v("\n        Unathorized people can see and download the shared data.\n    ")]),r("hr"),r("b",[t._v("Support")]),r("p",[r("ul",[r("li",[t._v("\n          Nov 4, 2018: Filter out people without hobbies\n        ")]),r("li",[t._v("\n          Nov 3, 2018: Update to latest versions of Vue.js and other libraries\n        ")]),r("li",[t._v("\n          May 25, 2017: Change movie info service from "),r("a",{attrs:{href:"http://www.omdbapi.com/",target:"_blank"}},[t._v("OMDb")]),t._v(" to "),r("a",{attrs:{href:"https://www.themoviedb.org/",target:"_blank"}},[t._v("TMDb")])]),r("li",[t._v("\n          Apr 24, 2017: Wire up the "),r("a",{attrs:{href:"http://www.omdbapi.com/",target:"_blank"}},[t._v("OMDb")]),t._v(" api service to obtain the movie info\n        ")])])])])])}],N={},A=Object(v["a"])(N,I,E,!1,null,null,null);A.options.__file="Home.vue";var U=A.exports,B=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-offset-4 col-sm-4"},[r("form",{on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)}}},[r("div",{staticClass:"form-group",class:{"has-error":t.$v.name.$error}},[r("label",{staticClass:"control-label",attrs:{for:"name"}},[t._v("Name")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"name",type:"text",placeholder:"User name"},domProps:{value:t.name},on:{input:[function(e){e.target.composing||(t.name=e.target.value.trim())},function(e){t.$v.name.$touch()}],blur:function(e){t.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:t.$v.name.$error,expression:"$v.name.$error"}],staticClass:"text-danger"},[t._v(t._s(t.vmsgName))])]),r("div",{staticClass:"form-group",class:{"has-error":t.$v.email.$error}},[r("label",{staticClass:"control-label",attrs:{for:"email"}},[t._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.email,expression:"email",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"email",type:"text",placeholder:"Email address"},domProps:{value:t.email},on:{input:[function(e){e.target.composing||(t.email=e.target.value.trim())},function(e){t.$v.email.$touch()}],blur:function(e){t.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:t.$v.email.$error,expression:"$v.email.$error"}],staticClass:"text-danger"},[t._v(t._s(t.vmsgEmail))])]),r("div",{staticClass:"form-group",class:{"has-error":t.$v.password.$error}},[r("label",{staticClass:"control-label",attrs:{for:"password"}},[t._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{id:"password",type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:[function(e){e.target.composing||(t.password=e.target.value)},function(e){t.$v.password.$touch()}]}}),r("p",{directives:[{name:"show",rawName:"v-show",value:t.$v.password.$error,expression:"$v.password.$error"}],staticClass:"text-danger"},[t._v(t._s(t.vmsgPassword))])]),r("div",{staticClass:"form-group",class:{"has-error":t.$v.confirmation.$error}},[r("label",{staticClass:"control-label",attrs:{for:"confirmation"}},[t._v("Confirmation")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmation,expression:"confirmation"}],staticClass:"form-control",attrs:{id:"confirmation",type:"password",placeholder:"Password confirmation"},domProps:{value:t.confirmation},on:{input:[function(e){e.target.composing||(t.confirmation=e.target.value)},function(e){t.$v.confirmation.$touch()}]}}),r("p",{directives:[{name:"show",rawName:"v-show",value:t.$v.confirmation.$error,expression:"$v.confirmation.$error"}],staticClass:"text-danger"},[t._v(t._s(t.vmsgConfirmation))])]),r("div",{staticClass:"form-group"},[r("re-captcha",{attrs:{siteKey:t.reCaptchaSiteKey},on:{captchaResponse:t.getCaptchaResponse}})],1),r("button",{staticClass:"btn btn-default",attrs:{type:"submit"}},[t._v("\n        Sign up\n      ")])])])])},D=[],T=(r("96cf"),r("1da1")),F=(r("7f7f"),r("b5ae")),L=[{rule:F["required"],msg:"Name is required"},{rule:function(t){var e=/^[A-Za-z_][A-Za-z0-9_-]{4,}$/;return e.test(t)},msg:"Name requires at least 5 letters or digits and begins with letter"}],q=[{rule:F["required"],msg:"Email address is required"},{rule:F["email"],msg:"Invalid email address"}],Y=[{rule:F["required"],msg:"Password is required"},{rule:function(t){var e=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])\S{8,}$/;return e.test(t)},msg:"Password requires at least 8 characters without spaces, one number, one lowercase and one uppercase letter"}],H=[{rule:F["required"],msg:"Confirmation is required"},{rule:Object(F["sameAs"])("password"),msg:"Password mismatch"}],z=[{rule:F["required"],msg:"Book title is required"}],J=[{rule:F["required"],msg:"Author is required"}],K=[{rule:F["required"],msg:"Book type is required"}],V=[{rule:F["required"],msg:"Movie title is required"}],Z=[{rule:F["required"],msg:"Year is required"}],G=[{rule:F["required"]}],Q=function(t){return t.reduce(function(t,e,r){return t[r]=e.rule,t},{})},W=function(t,e){for(var r=0;r<e.length;r++)if(!t[r])return e[r].msg},X={vrules:Q,vmsg:W},tt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"g-recaptcha",attrs:{"data-sitekey":t.siteKey,"data-callback":"verifyCallback"}})},et=[],rt={props:["siteKey"],mounted:function(){var t=this;window["verifyCallback"]=function(e){t.$emit("captchaResponse",e)};var e=document.body,r=document.createElement("script");r.innerHTML="",r.src="https://www.google.com/recaptcha/api.js",r.async=!0,r.defer=!0,e.appendChild(r)}},at=rt,nt=Object(v["a"])(at,tt,et,!1,null,null,null);nt.options.__file="ReCaptcha.vue";var st=nt.exports,ot={get apiUrl(){return"/api"},get reCaptchaSiteKey(){return"6LeUuSUTAAAAAElwIcAHk994ErqNeqw7aQxlsw_H"}},it=function(t){var e=t.name,r=t.email,a=t.password,n=t.captchaResponse;return{name:e,email:r,password:a,captchaResponse:n}},ct={components:{ReCaptcha:st},data:function(){return{name:"",email:"",password:"",captchaResponse:"",confirmation:"",reCaptchaSiteKey:ot.reCaptchaSiteKey}},validations:{name:X.vrules(L),email:X.vrules(q),password:X.vrules(Y),confirmation:X.vrules(H)},computed:{vmsgName:function(){return X.vmsg(this.$v.name,L)},vmsgEmail:function(){return X.vmsg(this.$v.email,q)},vmsgPassword:function(){return X.vmsg(this.$v.password,Y)},vmsgConfirmation:function(){return X.vmsg(this.$v.confirmation,H)}},methods:Object(c["a"])({},Object(l["d"])("notification",["notify"]),{getCaptchaResponse:function(t){this.captchaResponse=t},reset:function(){window["grecaptcha"].reset(),this.captchaResponse=""},validateBeforeSubmit:function(){this.$v.$touch(),!this.$v.$invalid&&this.captchaResponse&&this.submitForm()},submitForm:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$store.dispatch("auth/register",it(this.$data));case 3:this.notify({msg:"You have been registered and logged in.",type:"info"}),this.$router.push("/home"),t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),this.reset(),this.notify({msg:"You have failed to register. Try again with another name/email address.",type:"danger"});case 11:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}()})},lt=ct,ut=Object(v["a"])(lt,B,D,!1,null,null,null);ut.options.__file="Register.vue";var pt=ut.exports,mt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-offset-4 col-sm-4"},[r("form",{on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)}}},[r("div",{staticClass:"form-group",class:{"has-error":t.$v.name.$error}},[r("label",{staticClass:"control-label",attrs:{for:"name"}},[t._v("Name")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"name",type:"text",placeholder:"User name"},domProps:{value:t.name},on:{input:[function(e){e.target.composing||(t.name=e.target.value.trim())},function(e){t.$v.name.$touch()}],blur:function(e){t.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:t.$v.name.$error,expression:"$v.name.$error"}],staticClass:"text-danger"},[t._v(t._s(t.vmsgName))])]),r("div",{staticClass:"form-group",class:{"has-error":t.$v.password.$error}},[r("label",{staticClass:"control-label",attrs:{for:"password"}},[t._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{id:"password",type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:[function(e){e.target.composing||(t.password=e.target.value)},function(e){t.$v.password.$touch()}]}}),r("p",{directives:[{name:"show",rawName:"v-show",value:t.$v.password.$error,expression:"$v.password.$error"}],staticClass:"text-danger"},[t._v(t._s(t.vmsgPassword))])]),r("button",{staticClass:"btn btn-default",attrs:{type:"submit"}},[t._v("\n        Log in\n      ")])])])])},dt=[],vt={data:function(){return{name:"",password:""}},validations:{name:X.vrules(L),password:X.vrules(Y)},computed:{vmsgName:function(){return X.vmsg(this.$v.name,L)},vmsgPassword:function(){return X.vmsg(this.$v.password,Y)}},methods:Object(c["a"])({},Object(l["d"])("notification",["notify"]),{validateBeforeSubmit:function(){this.$v.$touch(),this.$v.$invalid||this.submitForm()},submitForm:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$store.dispatch("auth/login",Object(c["a"])({},this.$data));case 3:this.notify({msg:"You have been looged in.",type:"info"}),this.$router.push("/home"),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.notify({msg:"You have failed to log in. Try again with another credentials.",type:"danger"});case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}()})},ft=vt,ht=Object(v["a"])(ft,mt,dt,!1,null,null,null);ht.options.__file="Login.vue";var gt=ht.exports,bt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-offset-4 col-sm-4"},[r("form",{on:{submit:function(e){return e.preventDefault(),t.submitSettings(e)}}},[r("div",{staticClass:"form-group"},[r("div",{staticClass:"checkbox form-control"},[r("label",[r("input",{ref:"shareBooks",attrs:{type:"checkbox"},domProps:{checked:t.settings.shareBooks}}),t._v("\n              Share my books\n            ")])])]),r("div",{staticClass:"form-group"},[r("div",{staticClass:"checkbox form-control"},[r("label",[r("input",{ref:"shareMovies",attrs:{type:"checkbox"},domProps:{checked:t.settings.shareMovies}}),t._v("\n              Share my movies\n            ")])])]),r("button",{staticClass:"btn btn-default",attrs:{type:"submit"}},[t._v("Submit")])])])])},yt=[],_t={methods:Object(c["a"])({},Object(l["d"])("notification",["setStatus","notify"]),Object(l["b"])("users",["getSettings","saveSettings"]),{submitSettings:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.saveSettings({shareBooks:this.$refs.shareBooks.checked,shareMovies:this.$refs.shareMovies.checked});case 3:this.notify({msg:"Your settings have been saved :)",type:"info"}),t.next=10;break;case 6:t.prev=6,t.t0=t["catch"](0),this.notify({msg:"Something went wrong when saving settings :(",type:"danger"}),this.getSettings();case 10:case"end":return t.stop()}},t,this,[[0,6]])}));return function(){return t.apply(this,arguments)}}()}),computed:Object(c["a"])({},Object(l["c"])("users",["settings"])),mounted:function(){this.setStatus("My settings"),this.getSettings()},beforeDestroy:function(){this.setStatus("")}},wt=_t,Ct=Object(v["a"])(wt,bt,yt,!1,null,null,null);Ct.options.__file="UserSettings.vue";var kt=Ct.exports,$t=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("router-view")},xt=[],Ot={},jt=Object(v["a"])(Ot,$t,xt,!1,null,null,null);jt.options.__file="Shared.vue";var St=jt.exports,Pt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[r("div",{staticClass:"container-fluid"},[r("div",{staticClass:"my-search input-group"},[r("input",{ref:"search",staticClass:"form-control",attrs:{type:"text",placeholder:"Search people"},domProps:{value:t.filter},on:{keyup:[function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.applySearch(e):null},function(e){return"button"in e||!t._k(e.keyCode,"esc",27,e.key,"Escape")?t.clearSearch(e):null}]}}),r("div",{staticClass:"input-group-btn"},[r("a",{staticClass:"btn btn-default",attrs:{title:"Apply Search Filter"},on:{click:t.applySearch}},[r("i",{staticClass:"glyphicon glyphicon-search"})]),r("a",{staticClass:"btn btn-default",attrs:{title:"Clear Search Filter"},on:{click:t.clearSearch}},[r("i",{staticClass:"glyphicon glyphicon-remove-sign"})])])]),t.users.length?r("div",{staticClass:"panel panel-default"},[r("div",{staticClass:"table-responsive"},[r("table",{staticClass:"table table-striped"},[r("tbody",t._l(t.users,function(e){return r("tr",[r("td",[r("i",{staticClass:"glyphicon glyphicon-user"}),t._v("\n                "+t._s(e.name+" ["+e.total+"]")+"\n              ")]),r("td",[e.shareBooks?r("router-link",{attrs:{to:e.tob,append:""}},[r("i",{staticClass:"glyphicon glyphicon-book"}),t._v("\n                  "+t._s(e.name+"'s books ["+e.books+"]")+"\n                ")]):t._e()],1),r("td",[e.shareMovies?r("router-link",{attrs:{to:e.tom,append:""}},[r("i",{staticClass:"glyphicon glyphicon-film"}),t._v("\n                  "+t._s(e.name+"'s movies ["+e.movies+"]")+"\n                ")]):t._e()],1)])}))])])]):t._e(),r("pager",{attrs:{frame:8,pageCount:t.pageCount,page:t.page},on:{change:t.changePage}})],1)])},Rt=[],Mt=(r("386d"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.pageCount?r("ul",{staticClass:"pagination"},[t.page>1?r("li",[r("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.previous(e)}}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]):t._e(),t._l(t.pages,function(e){return r("li",{class:{active:e==t.page}},[r("a",{attrs:{href:""},on:{click:function(r){r.preventDefault(),t.select(r,e)}}},[t._v(t._s(e))])])}),t.page<t.pageCount?r("li",[r("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.next(e)}}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])]):t._e()],2):t._e()}),It=[],Et=(r("c5f6"),{props:{frame:{type:Number,default:10},page:Number,pageCount:Number},methods:{getPagerLimits:function(t,e){if(t<=this.frame)return{min:1,max:t};var r=Math.floor(this.frame/2),a=t-r+1,n=1;r<e&&e<a&&(n=e-r),e>=a&&(n=a-r);var s=n+this.frame-1;return{min:n,max:s}},select:function(t,e){this.$emit("change",e)},previous:function(t){this.$emit("change",this.page-1)},next:function(t){this.$emit("change",this.page+1)}},computed:{pages:function(){for(var t=this.getPagerLimits(this.pageCount,this.page),e=t.min,r=t.max,a=[],n=e;n<=r;n++)a.push(n);return a}}}),Nt=Et,At=(r("208f"),Object(v["a"])(Nt,Mt,It,!1,null,"c0bd1968",null));At.options.__file="Pager.vue";var Ut=At.exports,Bt={components:{Pager:Ut},computed:Object(c["a"])({},Object(l["c"])("users",["users","pageCount","page","filter"])),methods:Object(c["a"])({},Object(l["b"])("users",["getUsers","changePage","applyFilter"]),{applySearch:function(){this.applyFilter(this.$refs.search.value.trim())},clearSearch:function(){this.applyFilter("")}}),mounted:function(){this.getUsers()}},Dt=Bt,Tt=(r("9f47"),Object(v["a"])(Dt,Pt,Rt,!1,null,"77518002",null));Tt.options.__file="People.vue";var Ft=Tt.exports,Lt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("item-list",{ref:"itemList",attrs:{searchPlaceholder:"Search for book title or author",addPrompt:"Add Book",removeHeader:"Removing Book",downloadPrompt:"Download Books",uploadPrompt:"Upload Books"}},[r("div",{staticClass:"table-responsive"},[r("table",{staticClass:"table table-striped"},[r("thead",[r("tr",[t.my?r("th",{staticStyle:{width:"10%"}}):t._e(),r("th",{staticStyle:{width:"15%"}},[t._v("Completed")]),r("th",{staticStyle:{width:"8%"}},[t._v("Kind")]),r("th",{staticStyle:{width:"25%"}},[t._v("Author")]),r("th",[t._v("Title")])])]),r("tbody",t._l(t.items,function(e){return r("tr",[t.my?r("td",[r("div",{staticClass:"input-group-btn"},[r("router-link",{staticClass:"btn btn-default",attrs:{to:e._id,append:"",title:"Edit Book"}},[r("i",{staticClass:"glyphicon glyphicon-pencil"})]),r("a",{staticClass:"btn btn-default",attrs:{title:"Remove Book"},on:{click:function(r){t.remove(e)}}},[r("i",{staticClass:"glyphicon glyphicon-remove"})])],1)]):t._e(),r("td",[t._v(t._s(t._f("date")(e.completed)))]),r("td",[t._v(t._s(e.mode))]),r("td",[t._v(t._s(e.author))]),r("td",[t._v(t._s(e.title))])])}))])])])],1)},qt=[],Yt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("modal",{ref:"deleteConfirm",on:{close:t.closeConfirm}},[r("div",{attrs:{slot:"header"},slot:"header"},[r("h4",[t._v(t._s(t.removeHeader))])]),r("div",{attrs:{slot:"body"},slot:"body"},[t._v("\n      Are you sure you want to remove "),r("span",{staticClass:"badge"},[t._v(t._s(t.itemTitle))]),t._v("?\n    ")])]),r("div",{staticClass:"my-search input-group"},[r("input",{ref:"search",staticClass:"form-control",attrs:{type:"text",placeholder:t.searchPlaceholder},domProps:{value:t.filter},on:{keyup:[function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.applySearch(e):null},function(e){return"button"in e||!t._k(e.keyCode,"esc",27,e.key,"Escape")?t.clearSearch(e):null}]}}),r("div",{staticClass:"input-group-btn"},[r("a",{staticClass:"btn btn-default",attrs:{title:"Apply Search Filter"},on:{click:t.applySearch}},[r("i",{staticClass:"glyphicon glyphicon-search"})]),r("a",{staticClass:"btn btn-default",attrs:{title:"Clear Search Filter"},on:{click:t.clearSearch}},[r("i",{staticClass:"glyphicon glyphicon-remove-sign"})]),t.my?r("router-link",{staticClass:"btn btn-default",attrs:{to:"new",append:"",title:t.addPrompt}},[r("i",{staticClass:"glyphicon glyphicon-plus"})]):t._e(),r("a",{staticClass:"btn btn-default",attrs:{title:t.downloadPrompt},on:{click:t.download}},[r("i",{staticClass:"glyphicon glyphicon-download"})]),t.my?r("label",{staticClass:"btn btn-default",attrs:{for:"file",title:t.uploadPrompt}},[r("i",{staticClass:"glyphicon glyphicon-upload"})]):t._e()],1)]),r("form",{ref:"uploadForm"},[r("input",{attrs:{type:"file",id:"file"},on:{change:t.uploadChange}})]),r("div",{staticClass:"panel panel-default"},[t._t("default")],2),r("pager",{attrs:{frame:8,pageCount:t.pageCount,page:t.page},on:{change:t.changePage}})],1)},Ht=[],zt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("transition",{attrs:{name:"modal"}},[t.showModal?r("div",{staticClass:"modal-mask",attrs:{tabindex:"-1"},on:{keyup:[function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.close(!1)},function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.close(!0)}]}},[r("div",{staticClass:"modal-dialog"},[r("div",{staticClass:"modal-content"},[r("div",{staticClass:"modal-header"},[r("button",{staticClass:"close",on:{click:function(e){t.close(!1)}}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._t("header")],2),r("div",{staticClass:"modal-body"},[t._t("body")],2),r("div",{staticClass:"modal-footer"},[t._t("footer",[r("button",{staticClass:"btn btn-default",on:{click:function(e){t.close(!0)}}},[t._v("Yes")]),r("button",{staticClass:"btn btn-default",on:{click:function(e){t.close(!1)}}},[t._v("No")])])],2)])])]):t._e()])},Jt=[],Kt={data:function(){return{showModal:!1}},methods:{open:function(){var t=this;this.showModal=!0,this.$nextTick(function(){return t.$el.focus()})},close:function(t){this.showModal=!1,this.$emit("close",t)}}},Vt=Kt,Zt=(r("22d7"),Object(v["a"])(Vt,zt,Jt,!1,null,null,null));Zt.options.__file="Modal.vue";var Gt=Zt.exports,Qt={components:{Pager:Ut,Modal:Gt},props:["searchPlaceholder","addPrompt","removeHeader","downloadPrompt","uploadPrompt"],data:function(){return{itemId:"",itemTitle:""}},computed:Object(c["a"])({},Object(l["c"])("items",["my","pageCount","page","filter"])),methods:Object(c["a"])({},Object(l["b"])("items",["getItems","changePage","applyFilter","download","upload","delete"]),Object(l["d"])("notification",["notify"]),Object(l["d"])("items",["clear"]),{applySearch:function(){this.applyFilter(this.$refs.search.value.trim())},clearSearch:function(){this.applyFilter("")},uploadChange:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.target.files,r.length){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,this.upload(r[0]);case 6:this.notify({msg:"Items have been uploaded :)",type:"info"}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](3),this.notify({msg:"Something went wrong when uploading items :(",type:"danger"});case 12:return t.prev=12,this.$refs.uploadForm.reset(),t.finish(12);case 15:case"end":return t.stop()}},t,this,[[3,9,12,15]])}));return function(e){return t.apply(this,arguments)}}(),openConfirm:function(t){var e=t._id,r=t.title;this.itemId=e,this.itemTitle=r,this.$refs.deleteConfirm.open()},closeConfirm:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,this.delete(this.itemId);case 5:this.notify({msg:"An item has been removed :)",type:"info"}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),this.notify({msg:"Something went wrong when removing an item :(",type:"danger"});case 11:case"end":return t.stop()}},t,this,[[2,8]])}));return function(e){return t.apply(this,arguments)}}()}),mounted:function(){this.my||this.clear("shared"),this.getItems()}},Wt=Qt,Xt=(r("25d6"),Object(v["a"])(Wt,Yt,Ht,!1,null,null,null));Xt.options.__file="ItemList.vue";var te=Xt.exports,ee={props:["uid","name"],components:{ItemList:te},computed:Object(c["a"])({},Object(l["c"])("items",["my","items"])),methods:Object(c["a"])({},Object(l["d"])("items",["select"]),Object(l["d"])("notification",["setStatus"]),{remove:function(t){this.$refs.itemList.openConfirm(t)}}),created:function(){this.select({hobby:"books",uid:this.uid})},mounted:function(){var t=this.my?"My books":"".concat(this.name,"'s books");this.setStatus(t)},beforeDestroy:function(){this.setStatus("")}},re=ee,ae=Object(v["a"])(re,Lt,qt,!1,null,null,null);ae.options.__file="BookList.vue";var ne=ae.exports,se=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("modal",{ref:"info"},[r("div",{attrs:{slot:"header"},slot:"header"},[r("h4",[t._v(t._s(t.movieTitle))])]),r("div",{attrs:{slot:"body"},slot:"body"},[t.movieProgress?r("div",[t._v("Loading...")]):t.movieError?r("div",[t._v(t._s(t.movieError))]):r("div",{staticClass:"container-fluid movie-info"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-5"},[r("img",{attrs:{src:t.movieInfo.posterUrl}})]),r("div",{staticClass:"col-sm-7"},[t._v(t._s(t.movieInfo.plot))])])])]),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("button",{staticClass:"btn btn-default",on:{click:t.closeInfo}},[t._v("OK")])])]),r("item-list",{ref:"itemList",attrs:{searchPlaceholder:"Search for movie title, year of production or notes",addPrompt:"Add Movie",removeHeader:"Removing Movie",downloadPrompt:"Download Movies",uploadPrompt:"Upload Movies"}},[r("div",{staticClass:"table-responsive"},[r("table",{staticClass:"table table-striped"},[r("thead",[r("tr",[r("th",{staticStyle:{width:"10%"}}),r("th",{staticStyle:{width:"15%"}},[t._v("Completed")]),r("th",{staticStyle:{width:"10%"}},[t._v("Year")]),r("th",{staticStyle:{width:"40%"}},[t._v("Title")]),r("th",[t._v("Notes")])])]),r("tbody",t._l(t.items,function(e){return r("tr",[r("td",[r("div",{staticClass:"input-group-btn"},[r("a",{staticClass:"btn btn-default",attrs:{title:"Movie Info"},on:{click:function(r){t.openInfo(e)}}},[r("i",{staticClass:"glyphicon glyphicon-info-sign"})]),t.my?[r("router-link",{staticClass:"btn btn-default",attrs:{to:e._id,append:"",title:"Edit Movie"}},[r("i",{staticClass:"glyphicon glyphicon-pencil"})]),r("a",{staticClass:"btn btn-default",attrs:{title:"Remove Movie"},on:{click:function(r){t.remove(e)}}},[r("i",{staticClass:"glyphicon glyphicon-remove"})])]:t._e()],2)]),r("td",[t._v(t._s(t._f("date")(e.completed)))]),r("td",[t._v(t._s(e.year))]),r("td",[t._v(t._s(e.title))]),r("td",[t._v(t._s(e.notes))])])}))])])])],1)},oe=[],ie={props:["uid","name"],components:{ItemList:te,Modal:Gt},computed:Object(c["a"])({},Object(l["c"])("items",["my","items"]),Object(l["c"])("info",["movieInfo","movieProgress","movieError"])),data:function(){return{movieTitle:""}},methods:Object(c["a"])({},Object(l["d"])("items",["select"]),Object(l["d"])("notification",["setStatus"]),Object(l["b"])("info",["getMovieInfo"]),{remove:function(t){this.$refs.itemList.openConfirm(t)},openInfo:function(t){this.movieTitle=t.title,this.$refs.info.open(),this.getMovieInfo(t)},closeInfo:function(){this.$refs.info.close(!1)}}),created:function(){this.select({hobby:"movies",uid:this.uid})},mounted:function(){var t=this.my?"My movies":"".concat(this.name,"'s movies");this.setStatus(t)},beforeDestroy:function(){this.setStatus("")}},ce=ie,le=(r("967e"),Object(v["a"])(ce,se,oe,!1,null,"0b643a86",null));le.options.__file="MovieList.vue";var ue=le.exports,pe={path:"/people",component:St,children:[{path:"",component:Ft},{path:":uid/:name/b",component:ne,props:!0},{path:":uid/:name/m",component:ue,props:!0}]},me=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("router-view")],1)},de=[],ve={},fe=Object(v["a"])(ve,me,de,!1,null,null,null);fe.options.__file="Books.vue";var he=fe.exports,ge=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-offset-4 col-sm-4"},[r("form",{on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)}}},[r("div",{staticClass:"form-group",class:{"has-error":t.$v.title.$error}},[r("label",{staticClass:"control-label",attrs:{for:"title"}},[t._v("Title")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.title,expression:"title",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"title",type:"text",placeholder:"Book title"},domProps:{value:t.title},on:{input:[function(e){e.target.composing||(t.title=e.target.value.trim())},function(e){t.$v.title.$touch()}],blur:function(e){t.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:t.$v.title.$error,expression:"$v.title.$error"}],staticClass:"text-danger"},[t._v(t._s(t.vmsgTitle))])]),r("div",{staticClass:"form-group",class:{"has-error":t.$v.author.$error}},[r("label",{staticClass:"control-label",attrs:{for:"author"}},[t._v("Author")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.author,expression:"author",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"author",type:"text",placeholder:"Author"},domProps:{value:t.author},on:{input:[function(e){e.target.composing||(t.author=e.target.value.trim())},function(e){t.$v.author.$touch()}],blur:function(e){t.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:t.$v.author.$error,expression:"$v.author.$error"}],staticClass:"text-danger"},[t._v(t._s(t.vmsgAuthor))])]),r("div",{staticClass:"form-group",class:{"has-error":t.$v.mode.$error}},[r("label",{staticClass:"control-label",attrs:{for:"mode"}},[t._v("Book type")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.mode,expression:"mode"}],staticClass:"form-control",attrs:{id:"mode"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.mode=e.target.multiple?r:r[0]}}},[r("option",{attrs:{disabled:"",value:""}},[t._v("Please select one...")]),r("option",{attrs:{value:"r"}},[t._v("Regular book")]),r("option",{attrs:{value:"a"}},[t._v("Audio book")]),r("option",{attrs:{value:"r-a"}},[t._v("Both: Regular and Audio")])]),r("p",{directives:[{name:"show",rawName:"v-show",value:t.$v.mode.$error,expression:"$v.mode.$error"}],staticClass:"text-danger"},[t._v(t._s(t.vmsgMode))])]),r("div",{staticClass:"form-group",class:{"has-error":t.$v.completed.$error}},[r("date-input",{attrs:{id:"completed"},on:{input:function(e){t.$v.completed.$touch()}},model:{value:t.completed,callback:function(e){t.completed=e},expression:"completed"}},[r("label",{staticClass:"control-label",attrs:{for:"completed"}},[t._v("Completed on ")])])],1),r("button",{staticClass:"btn btn-default",attrs:{type:"submit"}},[t._v("Submit")]),r("router-link",{staticClass:"btn btn-default",attrs:{to:"../",append:""}},[t._v("Reject")])],1)])])},be=[],ye=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._t("default"),r("span",{staticClass:"label",class:{"label-my-success":t.value,"label-my-error":!t.value}},[t._v("\n    "+t._s(t._f("date")(t.value))+"\n  ")]),t._m(0)],2)},_e=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("input",{staticClass:"form-control",attrs:{id:t.id,placeholder:"Enter date in free format..."},domProps:{value:t._f("date")(t.value,null)},on:{input:t.updateDate}})}],we={props:["value","id"],methods:{updateDate:function(t){var e=new Date(t.target.value),r=e.toJSON()?e:null;this.$emit("input",r)}}},Ce=we,ke=(r("e869"),Object(v["a"])(Ce,ye,_e,!1,null,"041fa408",null));ke.options.__file="DateInput.vue";var $e=ke.exports,xe={components:{DateInput:$e},props:["id"],data:function(){return{title:"",author:"",mode:"",completed:null}},validations:{title:X.vrules(z),author:X.vrules(J),mode:X.vrules(K),completed:X.vrules(G)},computed:Object(c["a"])({},Object(l["c"])("items",["item"]),{header:function(){return this.id?"Edit book":"New book"},vmsgTitle:function(){return X.vmsg(this.$v.title,z)},vmsgAuthor:function(){return X.vmsg(this.$v.author,J)},vmsgMode:function(){return X.vmsg(this.$v.mode,K)}}),methods:Object(c["a"])({},Object(l["d"])("notification",["notify","setStatus"]),Object(l["b"])("items",["create","modify"]),{validateBeforeSubmit:function(){this.$v.$touch(),this.$v.$invalid||this.submitForm()},submitForm:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.id){t.next=13;break}return t.prev=1,t.next=4,this.modify({item:Object(c["a"])({},this.$data),id:this.id});case 4:this.$router.push("/books"),this.notify({msg:"A book has been modified :)",type:"info"}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),this.notify({msg:"Something went wrong when modifying a book :(",type:"danger"});case 11:t.next=23;break;case 13:return t.prev=13,t.next=16,this.create(Object(c["a"])({},this.$data));case 16:this.$router.push("/books"),this.notify({msg:"New book has been added :)",type:"info"}),t.next=23;break;case 20:t.prev=20,t.t1=t["catch"](13),this.notify({msg:"Something went wrong when adding new book :(",type:"danger"});case 23:case"end":return t.stop()}},t,this,[[1,8],[13,20]])}));return function(){return t.apply(this,arguments)}}()}),created:function(){if(this.id){var t=this.item(this.id);t?(this.title=t.title,this.author=t.author,this.mode=t.mode,this.completed=t.completed):this.$router.push("/books")}},mounted:function(){this.setStatus(this.header)},beforeDestroy:function(){this.setStatus("")}},Oe=xe,je=Object(v["a"])(Oe,ge,be,!1,null,null,null);je.options.__file="Book.vue";var Se=je.exports,Pe={path:"/books",component:he,children:[{path:"",component:ne},{path:"new",component:Se},{path:":id",component:Se,props:!0}]},Re=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("router-view")],1)},Me=[],Ie={},Ee=Object(v["a"])(Ie,Re,Me,!1,null,null,null);Ee.options.__file="Movies.vue";var Ne=Ee.exports,Ae=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-offset-4 col-sm-4"},[r("form",{on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)}}},[r("div",{staticClass:"form-group",class:{"has-error":t.$v.title.$error}},[r("label",{staticClass:"control-label",attrs:{for:"title"}},[t._v("Title")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.title,expression:"title",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"title",type:"text",placeholder:"Movie title"},domProps:{value:t.title},on:{input:[function(e){e.target.composing||(t.title=e.target.value.trim())},function(e){t.$v.title.$touch()}],blur:function(e){t.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:t.$v.title.$error,expression:"$v.title.$error"}],staticClass:"text-danger"},[t._v(t._s(t.vmsgTitle))])]),r("div",{staticClass:"form-group",class:{"has-error":t.$v.year.$error}},[r("label",{staticClass:"control-label",attrs:{for:"year"}},[t._v("Year")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.year,expression:"year",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"year",type:"text",placeholder:"Production year"},domProps:{value:t.year},on:{input:[function(e){e.target.composing||(t.year=e.target.value.trim())},function(e){t.$v.year.$touch()}],blur:function(e){t.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:t.$v.year.$error,expression:"$v.year.$error"}],staticClass:"text-danger"},[t._v(t._s(t.vmsgYear))])]),r("div",{staticClass:"form-group"},[r("label",{staticClass:"control-label",attrs:{for:"notes"}},[t._v("Notes")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.notes,expression:"notes",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"notes",type:"text",placeholder:"Notes on movie"},domProps:{value:t.notes},on:{input:function(e){e.target.composing||(t.notes=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),r("div",{staticClass:"form-group"},[r("label",{staticClass:"control-label",attrs:{for:"imdbId"}},[t._v("IMDB ID")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.imdbId,expression:"imdbId",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"imdbId",type:"text",placeholder:"IMDB index"},domProps:{value:t.imdbId},on:{input:function(e){e.target.composing||(t.imdbId=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),r("div",{staticClass:"form-group",class:{"has-error":t.$v.completed.$error}},[r("date-input",{attrs:{id:"completed"},on:{input:function(e){t.$v.completed.$touch()}},model:{value:t.completed,callback:function(e){t.completed=e},expression:"completed"}},[r("label",{staticClass:"control-label",attrs:{for:"completed"}},[t._v("Completed on ")])])],1),r("button",{staticClass:"btn btn-default",attrs:{type:"submit"}},[t._v("Submit")]),r("router-link",{staticClass:"btn btn-default",attrs:{to:"../",append:""}},[t._v("Reject")])],1)])])},Ue=[],Be={components:{DateInput:$e},props:["id"],data:function(){return{title:"",year:"",notes:"",imdbId:"",completed:null}},validations:{title:X.vrules(V),year:X.vrules(Z),completed:X.vrules(G)},computed:Object(c["a"])({},Object(l["c"])("items",["item"]),{header:function(){return this.id?"Edit movie":"New movie"},vmsgTitle:function(){return X.vmsg(this.$v.title,V)},vmsgYear:function(){return X.vmsg(this.$v.year,Z)}}),methods:Object(c["a"])({},Object(l["d"])("notification",["notify","setStatus"]),Object(l["b"])("items",["create","modify"]),{validateBeforeSubmit:function(){this.$v.$touch(),this.$v.$invalid||this.submitForm()},submitForm:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.id){t.next=13;break}return t.prev=1,t.next=4,this.modify({item:Object(c["a"])({},this.$data),id:this.id});case 4:this.$router.push("/movies"),this.notify({msg:"A movie has been modified :)",type:"info"}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),this.notify({msg:"Something went wrong when modifying a movie :(",type:"danger"});case 11:t.next=23;break;case 13:return t.prev=13,t.next=16,this.create(Object(c["a"])({},this.$data));case 16:this.$router.push("/movies"),this.notify({msg:"New movie has been added :)",type:"info"}),t.next=23;break;case 20:t.prev=20,t.t1=t["catch"](13),this.notify({msg:"Something went wrong when adding new movie :(",type:"danger"});case 23:case"end":return t.stop()}},t,this,[[1,8],[13,20]])}));return function(){return t.apply(this,arguments)}}()}),created:function(){if(this.id){var t=this.item(this.id);t?(this.title=t.title,this.year=t.year,this.notes=t.notes,this.imdbId=t.imdbId,this.completed=t.completed):this.$router.push("/movies")}},mounted:function(){this.setStatus(this.header)},beforeDestroy:function(){this.setStatus("")}},De=Be,Te=Object(v["a"])(De,Ae,Ue,!1,null,null,null);Te.options.__file="Movie.vue";var Fe=Te.exports,Le={path:"/movies",component:Ne,children:[{path:"",component:ue},{path:"new",component:Fe},{path:":id",component:Fe,props:!0}]},qe={msg:"",type:"",status:""},Ye={notify:function(t,e){var r=e.msg,a=e.type;t.msg=r,t.type=a},remove:function(t){t.msg="",t.type=""},setStatus:function(t,e){t.status=e}},He={message:function(t){return t.msg},alertClass:function(t){return"alert-"+t.type},status:function(t){return t.status}},ze={namespaced:!0,state:qe,mutations:Ye,getters:He},Je=(r("28a5"),r("bc3a")),Ke=r.n(Je),Ve="jwt",Ze=localStorage[Ve],Ge=function(t){t.subscribe(function(t,e){switch(t.type){case"auth/setToken":localStorage[Ve]=t.payload;break;case"auth/resetToken":localStorage.removeItem(Ve);break}})},Qe=Ge,We={token:Ze},Xe={setToken:function(t,e){t.token=e},resetToken:function(t){t.token=""}},tr={login:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(e,r){var a,n,s,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,n=ot.apiUrl+"/users/login",t.next=4,Ke.a.post(n,r);case 4:s=t.sent,o=s.data,a("setToken",o.token);case 7:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),register:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(e,r){var a,n,s,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,n=ot.apiUrl+"/users/register",t.next=4,Ke.a.post(n,r);case 4:s=t.sent,o=s.data,a("setToken",o.token);case 7:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),logout:function(t){var e=t.commit;e("resetToken")}},er=function(t){var e=t.token,r=e.split(".")[1];return JSON.parse(atob(r))},rr={isLoggedIn:function(t){if(!t.token)return!1;var e=er(t);return e.exp>Date.now()/1e3},currentUser:function(t){if(!t.token)return{};var e=er(t),r=e.name,a=e.email;return{name:r,email:a}}},ar={namespaced:!0,state:We,mutations:Xe,actions:tr,getters:rr},nr=r("1d79"),sr=(r("456d"),r("ac6a"),function(t,e,r){return new Promise(function(a,n){var s=new FormData,o=new XMLHttpRequest;s.append("upload",e,e.name),o.onreadystatechange=function(){4===o.readyState&&(200===o.status?a(o.response):n(o.response))},o.open("POST",t,!0),Object.keys(r).forEach(function(t){o.setRequestHeader(t,r[t])}),o.send(s)})}),or={hobby:"books",selector:"shared",uid:"",books:{items:[],page:1,pageCount:0,filter:""},movies:{items:[],page:1,pageCount:0,filter:""},shared:{items:[],page:1,pageCount:0,filter:""}},ir={my:function(t){return!t.uid},items:function(t){return t[t.selector].items},page:function(t){return t[t.selector].page},pageCount:function(t){return t[t.selector].pageCount},filter:function(t){return t[t.selector].filter},item:function(t){return function(e){var r=t[t.selector].items.filter(function(t){var r=t._id;return r===e});return r.length?r[0]:null}}},cr={clear:function(t,e){var r=t[e];r.items=[],r.page=1,r.pageCount=0,r.filter=""},select:function(t,e){var r=e.hobby,a=e.uid,n=void 0===a?"":a;t.hobby=r,t.uid=n,t.selector=n?"shared":r},setItems:function(t,e){var r=e.items,a=e.pages;t[t.selector].items=r.map(function(t){return t.completed=new Date(t.completed),t}),t[t.selector].pageCount=a},setPage:function(t,e){t[t.selector].page=e},setFilter:function(t,e){t[t.selector].filter=e}},lr=function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(e,r,a){var n,s,o,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=r.uid?ot.apiUrl+"/shared/"+r.hobby:ot.apiUrl+"/"+r.hobby,s=r.uid?{}:{Authorization:"Bearer "+e.auth.token},a=r.uid?Object(c["a"])({user:r.uid},a):a,t.next=5,Ke.a.get(n,{headers:s,params:a});case 5:return o=t.sent,i=o.data,t.abrupt("return",i);case 8:case"end":return t.stop()}},t,this)}));return function(e,r,a){return t.apply(this,arguments)}}(),ur=function(t,e){if("_id"!==t&&""!==e)return"completed"===t?e.split(/T/)[0]:e},pr={getItems:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(e){var r,a,n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.state,a=e.rootState,n=e.commit,t.next=3,lr(a,r,{page:r[r.selector].page,term:r[r.selector].filter});case 3:s=t.sent,n("setItems",s);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),changePage:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(e,r){var a,n,s,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.state,n=e.rootState,s=e.commit,t.next=3,lr(n,a,{page:r,term:a[a.selector].filter});case 3:o=t.sent,s("setPage",r),s("setItems",o);case 6:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),applyFilter:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(e,r){var a,n,s,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.state,n=e.rootState,s=e.commit,t.next=3,lr(n,a,{page:1,term:r});case 3:o=t.sent,s("setPage",1),s("setFilter",r),s("setItems",o);case 7:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),download:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(e){var r,a,n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.rootState,a=e.state,t.next=3,lr(r,a,{term:a[a.selector].filter});case 3:n=t.sent,s=new Blob([JSON.stringify(n.items,ur,1)],{type:"application/json"}),Object(nr["saveAs"])(s,a.hobby+".json");case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),upload:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(e,r){var a,n,s,o,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.rootState,n=e.state,s=e.dispatch,o="".concat(ot.apiUrl,"/").concat(n.selector,"/upload"),i={Authorization:"Bearer "+a.auth.token},t.next=5,sr(o,r,i);case 5:return t.abrupt("return",s("applyFilter",""));case 6:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),delete:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(e,r){var a,n,s,o,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.rootState,n=e.state,s=e.dispatch,o="".concat(ot.apiUrl,"/").concat(n.selector,"/").concat(r),i={Authorization:"Bearer "+a.auth.token},t.next=5,Ke.a.delete(o,{headers:i});case 5:return t.abrupt("return",s("changePage",1));case 6:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),create:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(e,r){var a,n,s,o,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.rootState,n=e.state,s=e.dispatch,o=ot.apiUrl+"/"+n.selector,i={Authorization:"Bearer "+a.auth.token},t.next=5,Ke.a.post(o,r,{headers:i});case 5:return t.abrupt("return",s("changePage",1));case 6:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),modify:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(e,r){var a,n,s,o,i,c,l;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.rootState,n=e.state,s=e.dispatch,o=r.item,i=r.id,c="".concat(ot.apiUrl,"/").concat(n.selector,"/").concat(i),l={Authorization:"Bearer "+a.auth.token},t.next=6,Ke.a.put(c,o,{headers:l});case 6:return t.abrupt("return",s("changePage",1));case 7:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()},mr={namespaced:!0,state:or,getters:ir,mutations:cr,actions:pr},dr={settings:{},users:[],page:1,pageCount:0,filter:""},vr={settings:function(t){return t.settings},users:function(t){return t.users.map(function(t){var e=t.name,r=t.shareBooks,a=t.shareMovies,n=t.books,s=t.movies,o=t.total,i=t._id;return{name:e,shareBooks:r,shareMovies:a,books:n,movies:s,total:o,tob:i+"/"+e+"/b",tom:i+"/"+e+"/m"}})},page:function(t){return t.page},pageCount:function(t){return t.pageCount},filter:function(t){return t.filter}},fr={updateSettings:function(t,e){t.settings=e},setUsers:function(t,e){var r=e.items,a=e.pages;t.users=r,t.pageCount=a},setPage:function(t,e){t.page=e},setFilter:function(t,e){t.filter=e}},hr={getSettings:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(e){var r,a,n,s,o,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.rootState,a=e.commit,n=ot.apiUrl+"/users/settings",s={Authorization:"Bearer "+r.auth.token},t.next=5,Ke.a.get(n,{headers:s});case 5:o=t.sent,i=o.data,a("updateSettings",i);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),saveSettings:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(e,r){var a,n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.rootState,n=ot.apiUrl+"/users/settings",s={Authorization:"Bearer "+a.auth.token},t.next=5,Ke.a.put(n,r,{headers:s});case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),getUsers:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(e){var r,a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.state,a=e.commit,t.next=3,gr({page:r.page,term:r.filter});case 3:n=t.sent,a("setUsers",n);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),changePage:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(e,r){var a,n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.state,n=e.commit,t.next=3,gr({page:r,term:a.filter});case 3:s=t.sent,n("setPage",r),n("setUsers",s);case 6:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),applyFilter:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(e,r){var a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.state,a=e.commit,t.next=3,gr({page:1,term:r});case 3:n=t.sent,a("setPage",1),a("setFilter",r),a("setUsers",n);case 7:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()},gr=function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(e){var r,a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=ot.apiUrl+"/users",t.next=3,Ke.a.get(r,{params:e});case 3:return a=t.sent,n=a.data,t.abrupt("return",n);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),br={namespaced:!0,state:dr,getters:vr,mutations:fr,actions:hr},yr={movieInfo:{title:"",posterUrl:"",plot:""},movieProgress:!1,movieError:""},_r={setMovieInfo:function(t,e){e.found?(t.movieInfo={title:e.title,posterUrl:e.poster,plot:e.plot},t.movieError=""):t.movieError="Movie not found (:"},setMovieProgress:function(t,e){t.movieProgress=e}},wr={movieInfo:function(t){return t.movieInfo},movieProgress:function(t){return t.movieProgress},movieError:function(t){return t.movieError}},Cr={getMovieInfo:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(e,r){var a,n,s,o,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.state,a=e.commit,a("setMovieProgress",!0),n=ot.apiUrl+(r.imdbId?"/get-movie":"/search-movie"),s=r.imdbId?{imdbId:r.imdbId}:{title:r.title},t.next=6,Ke.a.get(n,{params:s});case 6:o=t.sent,i=o.data,a("setMovieInfo",i),a("setMovieProgress",!1);case 10:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()},kr={namespaced:!0,state:yr,mutations:_r,getters:wr,actions:Cr};a["a"].use(l["a"]);var $r=new l["a"].Store({modules:{notification:ze,auth:ar,items:mr,users:br,info:kr},plugins:[Qe]});a["a"].use(M["a"]);var xr=new M["a"]({routes:[{path:"/home",component:U},{path:"/register",component:pt},{path:"/login",component:gt},Object(c["a"])({},pe),{path:"/profile",component:kt},Object(c["a"])({},Pe),Object(c["a"])({},Le),{path:"*",redirect:"/home"}]});xr.beforeEach(function(t,e,r){var a=$r.getters["auth/isLoggedIn"];switch(t.path){case"/register":case"/login":r(!a);break;case"/books":case"/movies":case"/profile":r(a);break;default:r(!0)}});var Or=xr,jr=r("1dce"),Sr=r.n(jr),Pr=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Invalid date";if(!t)return e;var r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=t.getFullYear(),n=t.getMonth(),s=t.getDate();return"".concat(r[n]," ").concat(s,", ").concat(a)};r("924b");a["a"].config.productionTip=!1,a["a"].use(Sr.a),a["a"].filter("date",Pr),new a["a"]({el:"#app",router:Or,store:$r,template:"<App/>",components:{App:R}})},5858:function(t,e,r){"use strict";var a=r("ef70"),n=r.n(a);n.a},"64a9":function(t,e,r){},"71a4":function(t,e,r){},"967e":function(t,e,r){"use strict";var a=r("c6bf"),n=r.n(a);n.a},9953:function(t,e,r){"use strict";var a=r("2804"),n=r.n(a);n.a},"9f47":function(t,e,r){"use strict";var a=r("cf56"),n=r.n(a);n.a},c6bf:function(t,e,r){},cf56:function(t,e,r){},e869:function(t,e,r){"use strict";var a=r("fb0e"),n=r.n(a);n.a},ef70:function(t,e,r){},fb0e:function(t,e,r){}});
//# sourceMappingURL=app.efc3b525.js.map